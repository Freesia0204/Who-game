<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>多人遊戲配對</title>
  <link rel="stylesheet" href="match.css">
</head>
<body>
  <header class="navbar">
        <nav>
            <a href="#home">首頁</a>
            <a href="#characters">人物介紹</a>
            <a href="#rules">玩法教學</a>
            <a href="#rank">排行榜</a>
            <a href="#" id="loginBtn">登入 / 註冊</a>
            <a href="match.html" class="start-nav-btn">開始遊戲</a> <!-- 新增 -->
        </nav>
    </header>
  <div class="match-box">
    <h2>多人遊戲配對</h2>

    <!-- 房號輸入 -->
    <label for="roomInput">房號：</label>
    <input type="text" id="roomInput" placeholder="例如 1234">

    <button id="joinBtn">加入房間</button>
    <br><br>
    <button id="createBtn">創建房間</button>
  </div>

  <script>
    // 加入房間
    document.getElementById('joinBtn').addEventListener('click', () => {
      const roomId = document.getElementById('roomInput').value.trim();
      const name = localStorage.getItem('playerName'); // 從登入時取得名字

      if (!name) {
        alert('尚未登入，請先回首頁登入');
        return;
      }
      if (!roomId) {
        alert('請輸入房號');
        return;
      }

      window.location.href = `PVP_room.html?room=${roomId}`;
    });

    // 創建房間
    document.getElementById('createBtn').addEventListener('click', () => {
      const name = localStorage.getItem('playerName'); // 從登入時取得名字

      if (!name) {
        alert('尚未登入，請先回首頁登入');
        return;
      }

      const roomId = Math.floor(1000 + Math.random() * 9000); // 隨機 4 位數房號
      // 跳轉時帶上 host=true
      window.location.href = `PVP_room.html?room=${roomId}&host=true`;
    });
  </script>
</body>
</html>
